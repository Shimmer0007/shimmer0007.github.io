<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>3D Travel Footprints</title>
    <style>
        /* ç¡®ä¿å®¹å™¨å æ»¡æ•´ä¸ªçª—å£ */
        html, body, #main {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            /* æ·±è‰²èƒŒæ™¯ä»¥çªå‡ºåœ°çƒ */
            background-color: #000;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
</head>
<body>
    <div id="main"></div>

    <script>
        // åˆå§‹åŒ– ECharts å®ä¾‹
        const myChart = echarts.init(document.getElementById('main'));

        // --- åŸå¸‚æ•°æ®é…ç½® ---
        // åœ¨è¿™é‡Œè½»æ¾å¢ã€åˆ ã€æ”¹ä½ çš„è¶³è¿¹ï¼
        // æ ¼å¼: { name: 'åŸå¸‚å', value: [ç»åº¦, çº¬åº¦] }
        // æ¨èä¸€ä¸ªæŸ¥è¯¢ç»çº¬åº¦çš„ç½‘ç«™: https://jingweidu.bmcx.com/
        const visitedCities = [
            { "name": "åŒ—äº¬", "value": [116.4074, 39.9042] },
            { "name": "ä¸Šæµ·", "value": [121.4737, 31.2304] },
            { "name": "å¹¿å·", "value": [113.2644, 23.1291] },
            { "name": "è¥¿å®‰", "value": [108.9535, 34.2663] },
            { "name": "æ­å·", "value": [120.1551, 30.2741] },
            { "name": "å˜‰å³ªå…³", "value": [98.2891, 39.7731] },
            { "name": "é«˜é›„", "value": [120.3128, 22.6273] },
            { "name": "å°åŒ—", "value": [121.5654, 25.0330] },
            { "name": "æ–°ç«¹", "value": [120.9647, 24.8138] },
            { "name": "å®‰é˜³", "value": [114.3525, 36.1033] },
            { "name": "ç”˜å—è—æ—è‡ªæ²»å·", "value": [102.91, 34.98] },
            { "name": "é…’æ³‰", "value": [98.5090, 39.7412] },
            { "name": "å…°å·", "value": [103.8343, 36.0611] },
            { "name": "æ­¦æ±‰", "value": [114.3999, 30.5923] },
            { "name": "éƒ‘å·", "value": [113.6654, 34.7579] },
            { "name": "æ´›é˜³", "value": [112.4343, 34.6630] },
            { "name": "å—äº¬", "value": [118.7969, 32.0603] },
            { "name": "æ·±åœ³", "value": [114.0579, 22.5431] },
            { "name": "é˜¿åè—æ—è‡ªæ²»å·", "value": [102.2215, 31.8998] },
            { "name": "é•¿æ²™", "value": [113.0000, 28.2000] },
            { "name": "æ¸¥å¤ªå", "value": [-75.6972, 45.4215] },
            { "name": "è’™ç‰¹åˆ©å°”", "value": [-73.5673, 45.5017] },
            { "name": "å¤šä¼¦å¤š", "value": [-79.3832, 43.6532] },
            { "name": "è¿ªæ‹œ", "value": [55.2708, 25.2048] },
            { "name": "å¸ƒè±å…‹æ–¯å ¡", "value": [-80.4139, 37.2296] },
            { "name": "å¼€å°", "value": [114.3419, 34.7974] },
            { "name": "åç››é¡¿", "value": [-77.0369, 38.9072] },
            { "name": "è´µé˜³", "value": [106.7135, 26.5783] },
            { "name": "å¨æµ·", "value": [122.0931, 37.5097] },
            { "name": "ç§¦çš‡å²›", "value": [119.5862, 39.9423] },
            { "name": "è‹å·", "value": [120.6199, 31.2993] },
            { "name": "å¼ æ–", "value": [106.5922, 36.6303] },

            // <-- åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šåŸå¸‚
        ];

        // --- ECharts é…ç½®é¡¹ ---
        const option = {
            // èƒŒæ™¯è‰²ï¼Œè®¾ä¸ºé€æ˜ä¼šä½¿ç”¨CSSçš„èƒŒæ™¯
            backgroundColor: 'transparent',
            
            // 3Dåœ°çƒç»„ä»¶
            globe: {
                // åœ°çƒçš„è´´å›¾ï¼Œè¿™é‡Œä½¿ç”¨äº†ä¸€å¼ é«˜è´¨é‡çš„åœ°çƒçº¹ç†
                baseTexture: 'https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples/data-gl/asset/world.topo.bathy.200401.jpg',
                
                // é«˜åº¦çº¹ç†ï¼Œç”¨äºå±•ç°åœ°çƒçš„ç«‹ä½“æ„Ÿ
                heightTexture: 'https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples/data-gl/asset/bathymetry_bw_composite_4k.jpg',

                // ç¯å¢ƒå…‰è´´å›¾ï¼Œæä¾›æ›´çœŸå®çš„æ˜Ÿç©ºèƒŒæ™¯
                environment: 'https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples/data-gl/asset/starfield.jpg',
                
                // åœ°çƒé¡¶ç‚¹ç€è‰²æ–¹å¼
                shading: 'realistic',

                // çœŸå®æ„Ÿæ¸²æŸ“çš„å‚æ•°
                realisticMaterial: {
                    roughness: 0.9
                },
                
                // åå¤„ç†ç‰¹æ•ˆï¼Œå¯ä»¥æ·»åŠ å…‰æ™•ç­‰æ•ˆæœ
                postEffect: {
                    enable: true
                },
                
                // è§†è§’æ§åˆ¶
                viewControl: {
                    autoRotate: true, // è‡ªåŠ¨æ—‹è½¬
                    autoRotateSpeed: 5, // æ—‹è½¬é€Ÿåº¦
                    targetCoord: [116.4074, 39.9042], // åˆå§‹åŒ–æ—¶ï¼Œåœ°çƒå¯¹å‡†çš„åæ ‡ï¼ˆä¾‹å¦‚ï¼šä¸­å›½åŒ—äº¬ï¼‰
                    zoomSensitivity: 1, // å…è®¸ç¼©æ”¾
                }
            },
            
            // æç¤ºæ¡†
            tooltip: {
                trigger: 'item',
                formatter: params => `ğŸ“ ${params.name}` // è‡ªå®šä¹‰æç¤ºæ¡†å†…å®¹
            },

            // ç³»åˆ—ï¼ˆè¦æ˜¾ç¤ºçš„æ•°æ®ï¼‰
            series: [{
                // ç³»åˆ—åç§°
                name: 'è¶³è¿¹',
                
                // ä½¿ç”¨3Dæ•£ç‚¹å›¾åœ¨åœ°çƒä¸Šæ ‡è®°ç‚¹
                type: 'scatter3D',
                
                // åæ ‡ç³»ç»Ÿä¸ºåœ°çƒ
                coordinateSystem: 'globe',
                
                // æ ‡è®°ç‚¹çš„å½¢çŠ¶
                symbol: 'pin',
                symbolSize: 25, // æ ‡è®°å¤§å°
                
                // æ ‡ç­¾é…ç½®
                label: {
                    show: true,
                    formatter: '{b}', // b ä»£è¡¨åŸå¸‚åç§°
                    position: 'top',
                    textStyle: {
                        color: '#fff',
                        fontSize: 14,
                        backgroundColor: 'rgba(0,0,0,0.5)',
                        borderRadius: 4,
                        padding: 4
                    }
                },
                
                // å•ä¸ªæ•°æ®ç‚¹æ ·å¼
                itemStyle: {
                    color: '#409EFF', // æ ‡è®°ç‚¹çš„é¢œè‰²
                    opacity: 0.45
                },
                
                // ç»‘å®šæˆ‘ä»¬çš„åŸå¸‚æ•°æ®
                data: visitedCities
            }]
        };

        // åº”ç”¨é…ç½®
        myChart.setOption(option);

        // ç›‘å¬çª—å£å¤§å°å˜åŒ–ï¼Œä½¿å›¾è¡¨è‡ªé€‚åº”
        window.addEventListener('resize', () => {
            myChart.resize();
        });

    </script>
</body>
</html>
