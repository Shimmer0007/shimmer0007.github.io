<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>3D Travel Footprints</title>
    <style>
        /* 确保容器占满整个窗口 */
        html, body, #main {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            /* 深色背景以突出地球 */
            background-color: #000;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
</head>
<body>
    <div id="main"></div>

    <script>
        // 初始化 ECharts 实例
        const myChart = echarts.init(document.getElementById('main'));

        // --- 城市数据配置 ---
        // 在这里轻松增、删、改你的足迹！
        // 格式: { name: '城市名', value: [经度, 纬度] }
        // 推荐一个查询经纬度的网站: https://jingweidu.bmcx.com/
        const visitedCities = [
            { "name": "北京", "value": [116.4074, 39.9042] },
            { "name": "上海", "value": [121.4737, 31.2304] },
            { "name": "广州", "value": [113.2644, 23.1291] },
            { "name": "西安", "value": [108.9535, 34.2663] },
            { "name": "杭州", "value": [120.1551, 30.2741] },
            { "name": "嘉峪关", "value": [98.2891, 39.7731] },
            { "name": "高雄", "value": [120.3128, 22.6273] },
            { "name": "台北", "value": [121.5654, 25.0330] },
            { "name": "新竹", "value": [120.9647, 24.8138] },
            { "name": "安阳", "value": [114.3525, 36.1033] },
            { "name": "甘南藏族自治州", "value": [102.91, 34.98] },
            { "name": "酒泉", "value": [98.5090, 39.7412] },
            { "name": "兰州", "value": [103.8343, 36.0611] },
            { "name": "武汉", "value": [114.3999, 30.5923] },
            { "name": "郑州", "value": [113.6654, 34.7579] },
            { "name": "洛阳", "value": [112.4343, 34.6630] },
            { "name": "南京", "value": [118.7969, 32.0603] },
            { "name": "深圳", "value": [114.0579, 22.5431] },
            { "name": "阿坝藏族自治州", "value": [102.2215, 31.8998] },
            { "name": "长沙", "value": [113.0000, 28.2000] },
            { "name": "渥太华", "value": [-75.6972, 45.4215] },
            { "name": "蒙特利尔", "value": [-73.5673, 45.5017] },
            { "name": "多伦多", "value": [-79.3832, 43.6532] },
            { "name": "迪拜", "value": [55.2708, 25.2048] },
            { "name": "布莱克斯堡", "value": [-80.4139, 37.2296] },
            { "name": "开封", "value": [114.3419, 34.7974] },
            { "name": "华盛顿", "value": [-77.0369, 38.9072] },
            { "name": "贵阳", "value": [106.7135, 26.5783] },
            { "name": "威海", "value": [122.0931, 37.5097] },
            { "name": "秦皇岛", "value": [119.5862, 39.9423] },
            { "name": "苏州", "value": [120.6199, 31.2993] },
            { "name": "张掖", "value": [106.5922, 36.6303] },

            // <-- 在这里添加更多城市
        ];

        // --- ECharts 配置项 ---
        const option = {
            // 背景色，设为透明会使用CSS的背景
            backgroundColor: 'transparent',
            
            // 3D地球组件
            globe: {
                // 地球的贴图，这里使用了一张高质量的地球纹理
                baseTexture: 'https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples/data-gl/asset/world.topo.bathy.200401.jpg',
                
                // 高度纹理，用于展现地球的立体感
                heightTexture: 'https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples/data-gl/asset/bathymetry_bw_composite_4k.jpg',

                // 环境光贴图，提供更真实的星空背景
                environment: 'https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples/data-gl/asset/starfield.jpg',
                
                // 地球顶点着色方式
                shading: 'realistic',

                // 真实感渲染的参数
                realisticMaterial: {
                    roughness: 0.9
                },
                
                // 后处理特效，可以添加光晕等效果
                postEffect: {
                    enable: true
                },
                
                // 视角控制
                viewControl: {
                    autoRotate: true, // 自动旋转
                    autoRotateSpeed: 5, // 旋转速度
                    targetCoord: [116.4074, 39.9042], // 初始化时，地球对准的坐标（例如：中国北京）
                    zoomSensitivity: 1, // 允许缩放
                }
            },
            
            // 提示框
            tooltip: {
                trigger: 'item',
                formatter: params => `📍 ${params.name}` // 自定义提示框内容
            },

            // 系列（要显示的数据）
            series: [{
                // 系列名称
                name: '足迹',
                
                // 使用3D散点图在地球上标记点
                type: 'scatter3D',
                
                // 坐标系统为地球
                coordinateSystem: 'globe',
                
                // 标记点的形状
                symbol: 'pin',
                symbolSize: 25, // 标记大小
                
                // 标签配置
                label: {
                    show: true,
                    formatter: '{b}', // b 代表城市名称
                    position: 'top',
                    textStyle: {
                        color: '#fff',
                        fontSize: 14,
                        backgroundColor: 'rgba(0,0,0,0.5)',
                        borderRadius: 4,
                        padding: 4
                    }
                },
                
                // 单个数据点样式
                itemStyle: {
                    color: '#409EFF', // 标记点的颜色
                    opacity: 0.45
                },
                
                // 绑定我们的城市数据
                data: visitedCities
            }]
        };

        // 应用配置
        myChart.setOption(option);

        // 监听窗口大小变化，使图表自适应
        window.addEventListener('resize', () => {
            myChart.resize();
        });

    </script>
</body>
</html>
